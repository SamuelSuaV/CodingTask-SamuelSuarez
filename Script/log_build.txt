----------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/samuel/Library/CloudStorage/OneDrive-Universidaddelosandes/Research Assistanceship/CodingTask-Samu
> elSuarez/Script/log_build.txt
  log type:  text
 opened on:  18 Aug 2025, 21:26:05

.   
.   
.  * Load raw data
.  
.  use "$raw_data/pwt1001.dta"

.  
.  
.  * Keep requiered data
.  
.  keep if  year >= 1990 // by year
(7,320 observations deleted)

.  keep country year cgdpo pop rtfpna labsh // by variable

.  
.  
.  * Create GDP/Capita variable
.  
.  gen  cgdpo_capita = cgdpo/(pop) // measured in units unlike cgdpo
(34 missing values generated)

.  
.  * Logarithmic GDP per capiuta and TFP
.  
.  gen log_cgdpo_capita = log(cgdpo_capita)
(34 missing values generated)

.  gen log_rtfpna = log(rtfpna)
(2,010 missing values generated)

.  
.  * Panel data setup
.  
.  encode country, gen(country_id) // this variable is an id for the xtset command

.  xtset country_id year // used id since xtset only allows for number type data

Panel variable: country_id (strongly balanced)
 Time variable: year, 1990 to 2019
         Delta: 1 unit

.  
.  * Creation of new variables
.  
.         * GDP
.  gen fd_log_cgdpo_capita = log_cgdpo_capita - L.log_cgdpo_capita // first diff log
(219 missing values generated)

.  gen gwth_cgdpo_capita = (cgdpo_capita - L.cgdpo_capita)*100/L.cgdpo_capita // growth rate
(219 missing values generated)

.  
.  gen cgdpo_capita_1990 = . // empty var for storing 1990 gdp
(5,490 missing values generated)

.  replace cgdpo_capita_1990 = cgdpo_capita if year == 1990 // copies 1990 gdp into a new variable
(181 real changes made)

.  bysort country (year): /// loop for each country in ascending year order
>         replace cgdpo_capita_1990 = cgdpo_capita_1990[_n-1] if missing(cgdpo_capita_1990)
(5,249 real changes made)

.         // fills column for a country with 1990 GDP data, using the data point from 1990
.  gen cum_gr_cgdpo_capita = (cgdpo_capita - cgdpo_capita_1990)*100 / cgdpo_capita_1990 
(64 missing values generated)

.  // uses 1990 gdp row to calculate cumulative growth
.  drop cgdpo_capita_1990 // removes now useless variable

.    
.         * TFP
.  xtset country_id year // solves error where stata forgets the panel data format

Panel variable: country_id (strongly balanced)
 Time variable: year, 1990 to 2019
         Delta: 1 unit

.  
.  gen fd_log_rtfpna = log_rtfpna - L.log_rtfpna // first diff log
(2,128 missing values generated)

.  gen gwth_rtfpna = (rtfpna - L.rtfpna) * 100 / L.rtfpna // growth rate
(2,128 missing values generated)

. 
.  gen rtfpna_1990 = . // empty var for storing 1990 rtfpna
(5,490 missing values generated)

.  replace rtfpna_1990 = rtfpna if year == 1990 // copies 1990 rtfpna into a new variable
(103 real changes made)

.  bysort country (year): /// loop for each country in ascending year order
>      replace rtfpna_1990 = rtfpna_1990[_n-1] if missing(rtfpna_1990) // fills column for a country with 1990 rtfpna 
> data
(2,987 real changes made)

.  gen cum_gr_rtfpna = (rtfpna - rtfpna_1990) * 100 / rtfpna_1990 // uses 1990 rtfpna row to calculate cumulative grow
> th
(2,400 missing values generated)

.  drop rtfpna_1990 // removes now useless variable 

.  
.         * Labor share
.  xtset country_id year // solves error where stata forgets the panel data format

Panel variable: country_id (strongly balanced)
 Time variable: year, 1990 to 2019
         Delta: 1 unit

.  
.  gen gwth_labsh = (labsh - L.labsh) * 100 / L.labsh // growth rate
(1,511 missing values generated)

. 
.  gen labsh_1990 = . // empty var for storing 1990 labsh
(5,490 missing values generated)

.  replace labsh_1990 = labsh if year == 1990 // copies 1990 labsh into a new variable
(134 real changes made)

.  bysort country (year): /// loop for each country in ascending year order
>     replace labsh_1990 = labsh_1990[_n-1] if missing(labsh_1990) // fills column for a country with 1990 labsh data
(3,886 real changes made)

.  gen cum_gr_labsh = (labsh - labsh_1990) * 100 / labsh_1990 // uses 1990 labsh row to calculate cumulative growth
(1,470 missing values generated)

.  drop labsh_1990 // removes now useless variable

.  
.  * Save dataset
.   save "$processed_data/build_dofile.dta", replace
file Data/processed/build_dofile.dta saved

.  
. 
.  
. 
end of do-file

. do "/var/folders/vp/ytgbt19d06g3xc3mqpf98xg80000gn/T//SD44941.000000"

. *                                  [[Research Assistantship Coding Task]]
. *                                                                Analysis
. 
. * Author: Samuel Su√°rez
. 
.  cls

.  clear all

.  set more off

.  cap log close
